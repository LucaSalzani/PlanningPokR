<h3>Vote for story {{storyId}}</h3>
<div class="vote-row">
  <button type="button" class="btn btn-primary vote-button" (click)="selectValue(1)" [disabled]="(participantsStateUpdate$ | async).areVotesRevealed">1</button>
  <button type="button" class="btn btn-primary vote-button" (click)="selectValue(2)" [disabled]="(participantsStateUpdate$ | async).areVotesRevealed">2</button>
  <button type="button" class="btn btn-primary vote-button" (click)="selectValue(3)" [disabled]="(participantsStateUpdate$ | async).areVotesRevealed">3</button>
  <button type="button" class="btn btn-primary vote-button" (click)="selectValue(5)" [disabled]="(participantsStateUpdate$ | async).areVotesRevealed">5</button>
  <button type="button" class="btn btn-primary vote-button" (click)="selectValue(8)" [disabled]="(participantsStateUpdate$ | async).areVotesRevealed">8</button>
  <button type="button" class="btn btn-primary vote-button" (click)="selectValue(13)" [disabled]="(participantsStateUpdate$ | async).areVotesRevealed">13</button>
</div>
<div class="workflow-row" *ngIf="!(participantsStateUpdate$ | async).areVotesRevealed">
  <button type="button" class="btn btn-primary" (click)="revealVotes()">Reveal</button>
  <button type="button" class="btn btn-secondary" (click)="abortVoting()">Abort</button>
</div>
<div class="workflow-row" *ngIf="(participantsStateUpdate$ | async).areVotesRevealed">
  <button type="button" class="btn btn-primary" (click)="openModal(content)">Continue</button>
  <button type="button" class="btn btn-secondary" (click)="resetVotes()">Revote</button>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Set accepted estimation</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="vote-row">
      <button type="button" class="btn btn-primary vote-button" (click)="modal.close(1)">1</button>
      <button type="button" class="btn btn-primary vote-button" (click)="modal.close(2)">2</button>
      <button type="button" class="btn btn-primary vote-button" (click)="modal.close(3)">3</button>
      <button type="button" class="btn btn-primary vote-button" (click)="modal.close(5)">5</button>
      <button type="button" class="btn btn-primary vote-button" (click)="modal.close(8)">8</button>
      <button type="button" class="btn btn-primary vote-button" (click)="modal.close(13)">13</button>
    </div>
  </div>
</ng-template>
